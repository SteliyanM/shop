{% extends 'base.html' %}
{% load static %}

{% block styles %}
    <link rel="stylesheet" href="{% static 'css/profile.css' %}">
{% endblock %}

{% block content %}
    <div class="form">

        <p class="form-title">Create Product</p>

        <form action="{% url 'create-product' %}" method="post" enctype="multipart/form-data">

            {{ form.as_p }}
            {% csrf_token %}


            <h3>Selected images: </h3>

            <div class="images">


            </div>

            <div class="buttons">

                <button type="submit">Create</button>

            </div>

        </form>

    </div>

    <script>
        id_images.onchange = evt => {
            const files = id_images.files;
            const pictureDiv = document.querySelector('.images');

            // Empty the pictureDiv
            pictureDiv.innerHTML = '';

            for (const file of files) {
                if (file) {
                    const image = document.createElement('img');
                    image.src = URL.createObjectURL(file);
                    pictureDiv.appendChild(image);
                }
            }
        };
    </script>

{% endblock %}